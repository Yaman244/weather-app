async function getWEather(e,t){await fetch(`https://api.openweathermap.org/data/2.5/weather?lat=${e}&lon=${t}&appid=15618ec3bfd91bffd509d645515bd453`).then(e=>(loading(!0),e.json())).then(e=>{changeContent(e.weather[0],e.main,e.name)}).catch(e=>{loading(!1),document.querySelector(".wrapper").innerHTML=`<h1 id="error"> check your network connection <h4> ${e.message}</h4></h1>`,loading(!0)})}function loading(e){let t=document.getElementById("loader");t.style.display=e?"none":"flex"}function changeContent(e,t,n){localStorage.getItem("cityname");document.querySelector(".wrapper").innerHTML=`\n    <div class="main-weather"> \n        <img src = "http://openweathermap.org/img/wn/${e.icon}@2x.png">\n        <h1> ${e.description}</h1>\n        <h3> ${n} </h3>\n    </div>\n    <div class="details"> \n        <div class="temp"> tempreature: ${Math.floor(t.temp-273.15)} CÙ’ </div> \n        <div class="humid">humidity: ${t.humidity} %</div> \n    </div>\n    `}let buttonForLocation=document.getElementById("location");buttonForLocation.addEventListener("click",()=>{loading(!1);let e=e=>{let t=e.coords.latitude,n=e.coords.longitude;getWEather(t,n)},t=()=>{document.getElementById("notification").innerHTML="<div> can't get your geolocation. try to use VPN</div>",loading(!0)};navigator.geolocation.getCurrentPosition(e,t);setTimeout(()=>{document.getElementById("notification").innerHTML=""},8e3)});let wrapper=document.querySelector(".wrapper");